.newsletter
  = form_for @customer ||= Customer.new, id: "newsletter_form" do |f| 
    - if  @customer.present? && @customer.errors.any?      
      .alert.alert-danger{:role => "alert"}
        %ul
          - @customer.errors.each do |attr, msg|
            %li= msg
    - if flash[:Ncustomer].present?
      .alert.alert-success
        = flash[:Ncustomer]
    - if flash[:Ecustomer].present?
      .alert.alert-danger
        = flash[:Ncustomer]
    - elsif flash[:emailexist].present?
      .alert.alert-danger= flash[:emailexist]
    .col-xs-3{:style => "text-align:center", :class => I18n.locale}
      = f.submit t('newsletter_set') , :id => "newsletter-submit" , :class => "form-submit"
    .col-xs-9.form-group
      = f.text_field :email, :placeholder => t('newsletter_email'),   :id => "newsletter_email", :class => " form-msg form-control"
    
:javascript 
  $(function() { 
    $(':submit#newsletter-submit').click(function(e) {
      $(':text#newsletter_email, textarea#newsletter_email').each(function() {
        if ($(this).val().length == 0) {
          $(this).css('border', '2px solid red');
          e.preventDefault();
        }
      });
    });
  });
